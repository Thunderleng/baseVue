# 🧭 坐标系测试说明

## 🎯 测试目标

验证积木是否正确平行于Y轴，朝向是否正确调整。

## 🔍 测试步骤

### 1. 访问应用
打开浏览器访问：**http://localhost:5175**

### 2. 观察积木朝向
- **积木应该垂直放置**（平行于Y轴）
- **底部正方体/长方体**应该沿Y轴延伸
- **顶部圆柱体**（如果有）应该沿Y轴延伸
- **积木沿Y轴旋转90°**，以获得正确的显示朝向

### 3. 测试不同积木类型
1. **1x1 立方体**：应该是垂直的正方体
2. **1x2 板**：应该是垂直的长方体，深度是宽度的2倍
3. **1x3 板**：应该是垂直的长方体，深度是宽度的3倍
4. **带圆柱积木**：底部正方体+顶部圆柱体，都垂直放置

### 4. 测试视角控制
1. **重置视角**：点击"重置视角"按钮
   - 相机应该从合适的角度观察垂直积木
2. **适应视角**：点击"适应视角"按钮
   - 相机应该自动调整到最佳观察位置
3. **手动控制**：
   - 鼠标滚轮：缩放
   - 鼠标拖动：旋转视角
   - 右键拖动：平移

## 🎨 视觉验证

### 正确的显示效果
- ✅ 积木垂直放置（平行于Y轴）
- ✅ 底部和顶部几何体正确对齐
- ✅ 光照效果自然，阴影正确
- ✅ 颜色显示正确
- ✅ 无遮挡或z-fighting问题

### 可能的问题
- ❌ 积木倾斜或水平放置
- ❌ 底部和顶部几何体错位
- ❌ 光照过暗或过亮
- ❌ 颜色显示异常
- ❌ 存在遮挡现象

## 🔧 调试信息

### 控制台输出
检查浏览器控制台，应该看到类似信息：
```
Rendered brick: 1x1 with cylinder at position: [0.046, -0.002, -0.087]
Rendered brick: 1x3 plate at position: [0.030, 0.021, -0.087]
Loading layer 1 with 922 bricks
```

### 相机信息
- **初始位置**: (0.2, 0.1, 0.2)
- **目标点**: (0, 0, 0)
- **FOV**: 45°

## 🎮 交互测试

### 层控制
1. **单层显示**：勾选单个层，观察积木朝向
2. **多层显示**：勾选多个层，检查整体效果
3. **全选/取消全选**：测试批量操作

### 视角操作
1. **缩放**：使用鼠标滚轮，观察积木细节
2. **旋转**：拖动鼠标，从不同角度观察
3. **平移**：右键拖动，移动观察位置

## 📊 性能检查

### 渲染性能
- 积木渲染应该流畅
- 无明显的卡顿或延迟
- 内存使用正常

### 响应性
- 视角控制响应及时
- 层切换快速
- 自适应视角计算准确

## 🛠️ 故障排除

### 如果积木朝向不正确：
1. 刷新页面重新加载
2. 检查浏览器控制台是否有错误
3. 确认Three.js版本兼容性

### 如果视角有问题：
1. 点击"重置视角"按钮
2. 点击"适应视角"按钮
3. 手动调整相机位置

### 如果性能不佳：
1. 减少同时显示的层数
2. 检查浏览器性能设置
3. 尝试使用不同的浏览器

## ✅ 成功标准

当您看到以下效果时，说明坐标系调整成功：

1. **积木垂直放置**：所有积木都平行于Y轴
2. **几何体正确**：底部正方体/长方体 + 顶部圆柱体（如果有）
3. **朝向正确**：积木沿Y轴旋转90°，显示正确的朝向
4. **视角自然**：相机从合适的角度观察
5. **交互流畅**：所有控制操作响应正常
6. **视觉效果佳**：光照、阴影、颜色都正确

---

**如果测试通过，说明Y轴平行坐标系调整成功！** 🎉 